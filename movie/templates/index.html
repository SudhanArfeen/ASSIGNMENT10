{% extends "basic.html" %}
{% block title %}
LIST OF MY FAVOURITE MOVIES
{% endblock title %}
{% block css %} 
body{background-image: linear-gradient(pink, lightblue);}
{% endblock css %} 
{% block body %}
    
<h1 class="display-3 text-center " style="color:black">MY ALL TIME FAVOURITE</h1>
<br/>

    <div class="container d-flex justify-content-evenly movie-container ">
    <div class="row">

        {% for i in data %}
        <div class="col-4">
        <div class="card my-3" style="width: 21rem; font-family:Times New Roman; ">
            <img src="/media/{{i.poster}}" style="max-height:350px;" class="card-img-top" alt=" ">
            <div class="card-body">
            <center>
              <h6 style="font-size: 20px" class="card-title">{{i.name}}</h6> </center>
              
              <ul class="list-group list-group-flush">
                <li class="list-group-item">DIRECTED BY : {{i.director_name}}</li>
                
                <li class="list-group-item">BOX-OFFICE : {{i.box_office}}</li>
                <li class="list-group-item">IMDB-RATING : {{i.imdb_ratings}}</li>
                <li class="list-group-item">RELEASE DATE : {{i.release_date}}</li>
               
              </ul>
<center>
<button
            class="btn btn-danger"
            onclick="addToCart('{{i.id}}','{{i.name}}')" 
            >
            ADD TO LIKE
          </button>
              <a href="#" class="btn btn-primary">WATCH NOW</a></center>
              
            </div>
            

        </div>
        </div>
        {% endfor %}
        </div>
{% endblock body %}
{% block script %}
        <script>
const addToCart =(id,name)=>{


  var cart = JSON.parse(localStorage.getItem("cart"))

  if(cart)
  {
    if(cart[id]){
      cart[id] = {name:name,value: cart[id].value + 1} 
    }
    else{
      cart[id]={name:name,value:1}
    }
    
  }
else{
  cart = {[id]:{name:name,value:1} }
}

localStorage.setItem("cart",JSON.stringify(cart))

var value = JSON.parse(localStorage.getItem("cart"));

document.getElementById("cartId").innerHTML = Object.keys(value).length
}



</script>
   
        
        
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>

{% endblock script %}
